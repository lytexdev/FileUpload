<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Upload Files | List</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='css/main.css') }}">
</head>
<body>
    <main id="content">
        <h1>Uploaded Files</h1>
        
        {# {% if files %}
        <ul>
            {% for file in files %}
            <li class="file-list-item">
                <a href="{{ url_for('download', filename=file.filename) }}">{{ file.filename }}</a> - {{ file.info }}
            </li>
            {% endfor %}
        </ul>
        {% else %}
        <p>No files have been uploaded yet.</p>
        {% endif %} #}


        <table>
            <tr>
                <th>Filename</th>
                <th>Custom Route</th>
                <th>Info</th>
                <th>Uploaded By</th>
            </tr>
            {% for file in files %}
            <tr>
                <td>{{ file.filename }}</td>
                <td>{{ file.custom_route if file.custom_route else 'N/A' }}</td>
                <td>{{ file.info }}</td>
                <td>{{ file.uploader.username }}</td> <!-- Zeigt den Benutzernamen an -->
                <td><a href="{{ url_for('download', route=file.custom_route or file.filename) }}">Download</a></td>
            </tr>
            {% endfor %}
        </table>

    </main>

    <footer>
        <div class="footer-buttons">
            <a href="{{ url_for('upload') }}" class="button">Upload another file</a>
            <a href="{{ url_for('logout') }}" class="button">Logout</a>
        </div>
    </footer>
</body>
</html>